pico-8 cartridge // http://www.pico-8.com
version 36
__lua__

function _init()
end

t = 0
tau = 6.2831853
fontw = 4
dis = 0

function _update()
  t += 1
end

function bg()
  for i=0,17 do
    for j=0,16 do
      x0 = i * 8 - t % 16
      y0 = j * 8 
      x1 = (i + 1) * 8 - t % 16
      y1 = (j + 1) * 8
      if (i+ j) % 2 == 0 then
	rectfill(x0, y0, x1, y1,6)
      else
	rectfill(x0, y0, x1, y1,7)
      end
    end
  end 
end

function _draw()
  cls()
  bg()

  if dis == 0 then
    for i=1,64 do
      line(
      14 + (i - 1) / 64 * 100,
      64 + cos((t + i -1 )/ 20) / tau  * 32,
      28 + (i / 100 * 100) ,
      64 + cos(((t + i)  / 20) / tau)  * 32,
      8 + ((((t*2)  + i )/3)  % 7))
    end
  elseif dis == 1 then
    seg = 100
    for i=1,seg do
      line((i - 1) / seg * 128,
      64 + cos((t + i -1 )/ 20) / tau  * 32
      
     * sin((t + i -1 )/ 10) / tau  * 36
      ,
      i / seg * 128,
      64 + cos((t + i  )/ 20) / tau  * 32
     * sin((t + i )/ 10) / tau  * 36
      ,0)
    end
  end

  if btnp(0)then
    if dis - 1 >= 0 then 
      dis -= 1
    end
  elseif btnp(1) then
    dis += 1
  end

  anim = sin(tau * t / 3) * 1
  anim1 = cos(tau * t / 3) * 2
  color(0)
  if dis == 0 then
    rectfill(39,109 + anim,39 + 4 * 7, 111 + 5 + anim)
    rectfill(71,109 + anim,71 + 4 * 4, 111 + 5 + anim)
  end
  if dis > 0 then
    rectfill(12,109 + anim1,12 + 4 * 2, 111 + 5 + anim1)
  end
  color(7)
  if dis == 0 then
    print("rainbow road",40,110 + anim)
  end

  if dis > 0 then 
   print("⬅️", 13, 110 + anim1)
  end
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
011e00002b3512d351261502d4302d4302b12026420283102d3102b340243502d470264602b450284402d450244501c4501a3511c3511c3511a3511c351223511c351183511a3511c3511c3512b3512635128351
__music__
00 01424344

